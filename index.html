<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Push test</title>
    <script>
    function enablePushNotifications() {
      if ('serviceWorker' in navigator && 'Notification' in window) {
          Notification.requestPermission(function(permission) {
            console.log('permission',permission);
            if (permission === "granted") {
              console.log('registering service worker')
              navigator.serviceWorker.register('./pubnub-sw.js').then(() => {
                  alert('service worker registered - listening to ch1')
              })
            }
          });
        } else {
          alert('unsupported browser')
        }
      }
    </script>
   
  </head>
  <body>
    <ul>
      <li> <a href="./browser.html">In browser notifications</a></li>
      <li> <a href="./firebase.html">Firebase notifications</a></li>
    </ul>
   
   

    <h3>Service worker notification test</h3>

    <button onclick="enablePushNotifications()">Enable push notifications</button>
  </body>
</html>
